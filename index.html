<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>John Pork Merch</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      transition: background 0.5s;
    }
    header {
      background: #333;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    .store-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
    }
    .product {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin: 10px;
      padding: 10px;
      width: 200px;
      text-align: center;
    }
    .product img {
      width: 100%;
      height: auto;
    }
    .product button {
      background: #007bff;
      border: none;
      color: white;
      padding: 10px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 3px;
    }
    /* Fake alert container styles */
    .fake-alert {
      position: fixed;
      background: #ffdddd;
      border: 2px solid red;
      padding: 10px;
      z-index: 1000;
      width: 300px;
      text-align: center;
      box-shadow: 0 0 10px red;
      margin: 10px;
      /* Make the container relative so the close button can be positioned */
      position: fixed;
    }
    /* "X" Close button in the top-right corner */
    .fake-alert button {
      position: absolute;
      top: 5px;
      right: 5px;
      background: darkred;
      color: white;
      border: none;
      cursor: pointer;
      padding: 2px 6px;
      font-size: 12px;
    }
    /* Custom image alert styling with 5 visual effects */
    .image-alert {
      width: 280px;
      max-width: 100%;
      border: 2px solid red;          /* 1. Border */
      box-shadow: 0 0 15px red;         /* 2. Glow effect */
      animation: pulse 2s infinite;     /* 3. Pulsing effect (includes slight rotation & opacity change) */
    }
    @keyframes pulse {
      0%   { transform: scale(1) rotate(0deg); opacity: 1; }
      50%  { transform: scale(1.05) rotate(2deg); opacity: 0.9; }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }
    /* Hacking animation overlay */
    #hackingOverlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: black;
      color: lime;
      font-family: "Courier New", Courier, monospace;
      font-size: 14px;
      display: none;
      z-index: 2000;
      overflow: hidden;
      white-space: pre;
      padding: 20px;
    }
    /* BSOD overlay */
    #bsodOverlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #0000aa;
      color: white;
      font-family: Consolas, monospace;
      font-size: 18px;
      display: none;
      z-index: 3000;
      padding: 20px;
    }
    /* Glitch effect */
    .glitch {
      animation: glitch-animation 0.2s infinite;
    }
    @keyframes glitch-animation {
      0% { opacity: 1; }
      20% { opacity: 0.8; transform: translate(-2px, 2px); }
      40% { opacity: 1; transform: translate(2px, -2px); }
      60% { opacity: 0.8; transform: translate(-2px, -2px); }
      80% { opacity: 1; transform: translate(2px, 2px); }
      100% { opacity: 1; transform: translate(0, 0); }
    }
  </style>
</head>
<body>
  <header>
    <h1>John Pork Merch</h1>
    <p>Your one-stop shop for exclusive John Pork apparel!</p>
  </header>
  <div class="store-container">
    <!-- Fake product cards -->
    <div class="product">
      <img src="https://via.placeholder.com/200x150?text=John+Pork+T-Shirt" alt="John Pork T-Shirt">
      <h3>John Pork T-Shirt</h3>
      <button class="chaos-btn">Buy Now</button>
    </div>
    <div class="product">
      <img src="https://via.placeholder.com/200x150?text=John+Pork+Poster" alt="John Pork Poster">
      <h3>John Pork Poster</h3>
      <button class="chaos-btn">Buy Now</button>
    </div>
    <div class="product">
      <img src="https://via.placeholder.com/200x150?text=John+Pork+Mug" alt="John Pork Mug">
      <h3>John Pork Mug</h3>
      <button class="chaos-btn">Buy Now</button>
    </div>
  </div>

  <!-- Hacking overlay -->
  <div id="hackingOverlay"></div>
  <!-- BSOD overlay -->
  <div id="bsodOverlay">
    <h1>:(</h1>
    <p>A problem has been detected and Windows has been shut down to prevent damage to your computer.</p>
    <p>If this is the first time you've seen this stop error screen, restart your computer. If this screen appears again, follow these steps:</p>
    <p>...</p>
  </div>

  <script>
    let chaosStarted = false;
    let currentAlerts = 0;

    // Array of your custom image filenames
    const alertImages = ["Image1234.jpg", "image12345.jpg", "image123456.jpg"];

    // Create a fake alert modal that shows a random image.
    // Pass isInitial=true for the very first alert.
    function createFakeAlert(isInitial = false) {
      const alertDiv = document.createElement('div');
      alertDiv.className = 'fake-alert';

      // Create an image element and assign one of your images randomly.
      const img = document.createElement('img');
      const randomImage = alertImages[Math.floor(Math.random() * alertImages.length)];
      img.src = randomImage;
      img.className = 'image-alert';
      alertDiv.appendChild(img);

      // Create the close ("X") button and position it in the corner.
      const closeBtn = document.createElement('button');
      closeBtn.textContent = 'X';
      closeBtn.addEventListener('click', function() {
        alertDiv.remove();
        currentAlerts--;
        // If this is the initial alert and chaos hasn't started, begin the cascade
        if (isInitial && !chaosStarted) {
          chaosStarted = true;
          // Wait 3 seconds, then flood the screen with additional alerts, then immediately trigger hacking mode.
          setTimeout(triggerFlood, 3000);
        }
      });
      alertDiv.appendChild(closeBtn);

      // Randomly place the alert on the screen.
      alertDiv.style.left = Math.floor(Math.random() * (window.innerWidth - 320)) + "px";
      alertDiv.style.top = Math.floor(Math.random() * (window.innerHeight - 120)) + "px";
      document.body.appendChild(alertDiv);
      currentAlerts++;
    }

    // Flood alerts gradually over 3 seconds, then immediately trigger the hacking mode.
    function triggerFlood() {
      let floodDuration = 3000; // 3 seconds
      let floodInterval = 300;  // spawn a new alert every 300ms
      let floods = Math.floor(floodDuration / floodInterval);
      let count = 0;
      let floodTimer = setInterval(function() {
         createFakeAlert();
         count++;
         if(count >= floods) {
           clearInterval(floodTimer);
           triggerHackingMode();
         }
      }, floodInterval);
    }

    // Trigger the fake hacking mode with glitch effects, scrolling terminal text, and sound effects.
    function triggerHackingMode() {
      document.body.classList.add('glitch');
      document.body.style.background = '#000';
      document.body.style.color = '#0f0';

      const hackingOverlay = document.getElementById('hackingOverlay');
      hackingOverlay.style.display = 'block';
      const messages = [
        "SECURITY ALERT: Unauthorized access detected.",
        "DATA BREACH: Sensitive information compromised.",
        "CRITICAL ERROR: System integrity compromised.",
        "WARNING: Shutdown sequence initiated.",
        "ALERT: Immediate action required. Contact support!"
      ];
      let index = 0;
      function scrollText() {
        if (index < messages.length) {
          hackingOverlay.textContent += messages[index] + "\n";
          index++;
        } else {
          hackingOverlay.textContent += '>>> ';
        }
        setTimeout(scrollText, 500);
      }
      scrollText();
      playSirenAndVoice();
    }

    // Play siren sound and a robotic voice alert.
    function playSirenAndVoice() {
      if (!window.AudioContext) return;
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioCtx.createOscillator();
      const gainNode = audioCtx.createGain();
      oscillator.type = 'sawtooth';
      oscillator.frequency.setValueAtTime(400, audioCtx.currentTime);
      oscillator.frequency.exponentialRampToValueAtTime(1000, audioCtx.currentTime + 0.5);
      oscillator.frequency.exponentialRampToValueAtTime(400, audioCtx.currentTime + 1);
      oscillator.connect(gainNode);
      gainNode.connect(audioCtx.destination);
      oscillator.start();
      oscillator.stop(audioCtx.currentTime + 5);
      
      const utterance = new SpeechSynthesisUtterance('WARNING! SYSTEM BREACH!');
      utterance.pitch = 0.5;
      utterance.rate = 0.9;
      window.speechSynthesis.speak(utterance);
    }

    // Randomly affect the cursor to add extra chaos.
    function randomizeCursor() {
      const rand = Math.random();
      if (rand < 0.3) {
        document.body.style.cursor = 'none';
      } else if (rand < 0.6) {
        document.body.style.cursor = 'crosshair';
      } else {
        document.body.style.cursor = 'default';
      }
    }
    setInterval(randomizeCursor, 1000);

    // (Optional) Attach event listeners to product buttons.
    // They no longer trigger the hacking mode since the initial alert sequence is automatic.
    const chaosButtons = document.getElementsByClassName('chaos-btn');
    for (const btn of chaosButtons) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        if (!chaosStarted) {
          chaosStarted = true;
          setTimeout(triggerFlood, 3000);
        }
      });
    }

    // Immediately show an initial image alert on page load.
    window.onload = function() {
      createFakeAlert(true);
    };
  </script>
</body>
</html>
